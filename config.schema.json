{
  "pluginAlias": "Jablotron",
  "pluginType": "platform",
  "footerDisplay": "Control your Jablotron alarm system from your iOS device using HomeKit and Homebridge, which is available [here](https://github.com/F4stFr3ddy/homebridge-jablotron-alarm.git).",
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Name",
        "type": "string",
        "default": "Jablotron",
        "required": true
      },
      "services": {
        "title": "Services",
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "id": {
              "title": "Id",
              "type": "integer",
              "default": 12345,
              "required": true
            },
            "name": {
              "title": "Name",
              "type": "string",
              "default": "Home",
              "required": true
            },
            "username": {
              "title": "User name",
              "type": "string",
              "default": "username",
              "required": true
            },
            "password": {
              "title": "Password",
              "type": "string",
              "default": "password",
              "required": true
            },
            "pincode": {
              "title": "Pin code",
              "type": "string",
              "default": "pin",
              "required": true
            },
            "autoRefresh": {
              "title": "Auto refresh",
              "type": "boolean",
              "default": true,
              "required": true
            },
            "poolInterval": {
              "title": "Poll interval",
              "type": "integer",
              "default": 60,
              "required": true
            },
            "refreshOnStateChange": {
              "title": "Refresh on state change",
              "type": "boolean",
              "default": true,
              "required": true
            },
            "debug": {
              "title": "Debug",
              "type": "boolean",
              "default": true,
              "required": false
            },
            "sections": {
              "title": "Sections",
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "title": "House",
                    "type": "string",
                    "default": "House",
                    "required": true
                  },
                  "segment_id": {
                    "title": "Segment ID",
                    "type": "string",
                    "default": "STATE_1",
                    "required": true
                  },
                  "segment_key": {
                    "title": "Segment key",
                    "type": "string",
                    "default": "section_1",
                    "required": true
                  },
                  "keyboard_key": {
                    "title": "Keyboard key",
                    "type": "string",
                    "default": "keyboard_2_3",
                    "required": false
                  },
                  "armedMode": {
                    "title": "Armed mode",
                    "type": "string",
                    "default": "Away",
                    "required": false,
                    "enum": [
                      "Home",
                      "Night",
                      "Away"
                    ]
                  },
                  "partiallyArmedMode": {
                    "title": "Partially armed mode",
                    "type": "string",
                    "default": "Home",
                    "required": false,
                    "enum": [
                      "Home",
                      "Night",
                      "Away"
                    ]
                  }
                }
              }
            },
            "switches": {
              "title": "Switches",
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "title": "Name",
                    "type": "string",
                    "required": false
                  },
                  "segment_id": {
                    "title": "Segment ID",
                    "type": "string",
                    "required": false
                  },
                  "segment_key": {
                    "title": "Segment key",
                    "type": "string",
                    "required": false
                  }
                }
              }
            },
            "outlets": {
              "title": "Outlets",
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "title": "Name",
                    "type": "string",
                    "required": false
                  },
                  "segment_id": {
                    "title": "Segment ID",
                    "type": "string",
                    "required": false
                  },
                  "segment_key": {
                    "title": "Segment key",
                    "type": "string",
                    "required": false
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "layout": [{
    "key": "services",
    "type": "tabarray",
    "title": "{{ value.name || 'new service' }}",
    "items": [
      "services[].name",
      "services[].id",
      {
        "key": "services[]",
        "type": "section",
        "title": "Sections",
        "expandable": true,
        "expanded": false,
        "items": [{
          "key": "services[].sections",
          "type": "tabarray",
          "title": "{{ value.name || 'new section' }}",
          "items": [
            "services[].sections[].name",
            "services[].sections[].segment_id",
            "services[].sections[].segment_key",
            "services[].sections[].keyboard_key",
            "services[].sections[].armedMode",
            "services[].sections[].partiallyArmedMode"
          ]
        }]
      },
      {
        "key": "services[]",
        "type": "section",
        "title": "Switches",
        "expandable": true,
        "expanded": false,
        "items": [{
          "key": "services[].switches",
          "type": "tabarray",
          "title": "{{ value.name || 'new switch' }}",
          "items": [
            "services[].switches[].name",
            "services[].switches[].segment_id",
            "services[].switches[].segment_key"
          ]
        }]
      },
      {
        "key": "services[]",
        "type": "section",
        "title": "Outlets",
        "expandable": true,
        "expanded": false,
        "items": [{
          "key": "services[].outlets",
          "type": "tabarray",
          "title": "{{ value.name || 'new switch' }}",
          "items": [
            "services[].outlets[].name",
            "services[].outlets[].segment_id",
            "services[].outlets[].segment_key"
          ]
        }]
      },
      {
        "key": "services[]",
        "type": "section",
        "title": "Authorization",
        "expandable": true,
        "expanded": false,
        "items": [
          "services[].username",
          "services[].password",
          "services[].pincode"
        ]
      },
      {
        "key": "services[]",
        "type": "section",
        "title": "Advanced Settings",
        "expandable": true,
        "expanded": false,
        "items": [
          "services[].autoRefresh",
          "services[].poolInterval",
          "services[].refreshOnStateChange",
          "services[].debug"
        ]
      }
    ]
  }]
}